/*!
 * jQuery lazyImage plugin - v1.1 - 02/02/2013
 * http://www.nathanroyal.com/code-tools/lazy-load-images
 * Copyright (c) 2013 Nathan Johnson
 * licensed under the Creative Commons Attribution-ShareAlike license.
 */
(function(a){a.fn.lazyImage=function(e,l){function g(){if(0>=d||0>=h)return f.call(k),!0;h--;setTimeout(function(){g()},b.waitTime)}var b=a.extend({waitTime:50,waitMultiplier:20,identifier:"lazy",hideClass:"hide",fade:"slow",eachLoad:null},e||{}),k=this,d=k.length,h=d*b.waitMultiplier,f=a.isFunction(e)?e:l;f&&"function"===typeof f&&g();if(d)return this.one("load",function(){"function"==typeof b.eachLoad&&b.eachLoad.call(this);a(this).removeClass(b.identifier);d--;a(this).hasClass(b.hideClass)||(0===b.fade?a(this).show():a(this).fadeIn(b.fade))}).each(function(b,c){c=a(c);c.attr("data-imgsrc")&&(c.hide(),c.attr("src",a(this).data().imgsrc));this.complete&&c.trigger("load")})}})(jQuery);